language: c

matrix:
  include:
    - os: osx
      osx_image: xcode10.2
    - os: linux
      env:
        - secure: "KMCfMHGUsu9U+yRmP5XhCI8VsUpKAeYsrvZoxPTj4nu8S5LPt4jsEblTKZbXEweKu/ouamdxlgJUvFdhjtZg26uC7H1H6tyBn4DhdHN22nD708rstdiyUj0FnLPt9YWGRsp1Vx/gTQzKp9q/FDA7j9vscMSgzicm/fZ2WAa+3i3zqG9AnpcPRwaYmZ6jbiQSPg3xvD8gw+UuTcuAxZ0jnkbQqVCcREdmpkrlPQbuCKsrx0ddEEEMjdyfl4PFRWGOB0tiLJgod3NQqMKzv0j1DbXWUJG5AXFRil+kSxIrAglYwOHL6jCjZ4U3VhqLHFnZLnfs8M51Q6v7eDSbC+slcW84eg6jsimjLZaHQ2hxKeuiuH2T65DSSCOQra3UyR+llvpJc/DQQv27W/aFi0gaNmKy9UCHnUj/QjaJwqShx+qT8BZXwsTSsBAOJ4ey7lXV49yIbp3EFJqJZCD4GVf9d3qrDPeHgz/x8WYUUv1VylvFZxze4sn/ZxIYED2Sz38HzH6CQL/yNOP1v7ML6v6Zfd25fermAoC7BtNt+KoHuQWKcBoh7s625C/nUB63uZTYMH1jd28WAzqjtfdujTa8ApqloQ9g7ikfgPKUsDbnNQ+hgP2fu0iUIlDD7wdmYSmrfUPTkqOoOZK5hHFP1CKG9S1pBf6JbHj7w8C1jJS5+Ys="
      addons:
        coverity_scan:
          project:
            name: "1g0rb0hm/plan9labs"
            description: "Build submitted via Travis CI"
          notification_email: boehm.igor@gmail.com
          build_command: "./INSTALL"
          branch_pattern: devel

before_script:
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then echo -n | openssl s_client -connect scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-; fi

script:
  - ./INSTALL
